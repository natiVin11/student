<!DOCTYPE html>
<html lang="he">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="../css/styles.css" />
    <title>אדמין - העלאת סרטונים</title>
</head>
<body>
<h1>אדמין - העלאת סרטונים</h1>

<form id="uploadForm" enctype="multipart/form-data">
    <label>שם סרטון:</label>
    <input type="text" name="title" required /><br>
    <label>תיאור:</label>
    <textarea name="description" required></textarea><br>
    <label>קטגוריה:</label>
    <select name="category">
        <option value="אפליקציה">אפליקציה</option>
        <option value="סיסטם">סיסטם</option>
        <option value="מוקד">מוקד</option>
        <option value="סטודנטים">סטודנטים</option>
    </select><br>
    <label>בחר סרטון:</label>
    <input type="file" name="videoFile" /><br>
    <button type="submit">העלה</button>
</form>

<form id="youtubeForm">
    <label>שם סרטון:</label>
    <input type="text" name="title" required /><br>
    <label>תיאור:</label>
    <textarea name="description" required></textarea><br>
    <label>קטגוריה:</label>
    <select name="category">
        <option value="אפליקציה">אפליקציה</option>
        <option value="סיסטם">סיסטם</option>
        <option value="מוקד">מוקד</option>
        <option value="סטודנטים">סטודנטים</option>
    </select><br>
    <label>קישור יוטיוב:</label>
    <input type="url" name="youtubeUrl" required /><br>
    <button type="submit">העלה מיוטיוב</button>
</form>

<script>
    document.getElementById("uploadForm").onsubmit = (e) => {
        e.preventDefault();
        const formData = new FormData(e.target);
        fetch("/upload", { method: "POST", body: formData })
            .then((res) => res.text())
            .then(alert)
            .catch(console.error);
    };

    document.getElementById("youtubeForm").onsubmit = (e) => {
        e.preventDefault();
        const formData = new FormData(e.target);
        fetch("/upload-youtube", {
            method: "POST",
            body: new URLSearchParams(formData),
        })
            .then((res) => res.text())
            .then(alert)
            .catch(console.error);
    };
</script>
</body>
</html>
